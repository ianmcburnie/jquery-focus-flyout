
(function($,window,document,undefined){$.fn.focusFlyout=function focusFlyout(options){options=$.extend({autoExpand:true,debug:false,triggerSelector:'.flyout__trigger',overlaySelector:'.flyout__overlay'},options);return this.each(function onEach(){var $widget=$(this);var $trigger=$widget.find(options.triggerSelector).first();var $overlay=$widget.find(options.overlaySelector).first();var expandFlyout=function(){if($trigger.attr('aria-expanded')==='false'){$trigger.attr('aria-expanded','true');$widget.trigger('flyoutExpand');}};var collapseFlyout=function(){if($trigger.attr('aria-expanded')==='true'){$trigger.attr('aria-expanded','false');$widget.trigger('flyoutCollapse');}};$widget.nextId('flyout');if($overlay.prop('id')===''){$overlay.prop('id',$widget.prop('id')+'-overlay');}
$trigger.attr('aria-controls',$overlay.prop('id')).attr('aria-expanded','false');if(options.autoExpand===true){$trigger.on('focus',expandFlyout);}
$widget.focusExit();$widget.on('focusExit',collapseFlyout);$widget.addClass('flyout--js');});};}(jQuery,window,document));